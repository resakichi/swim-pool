# Swim pool


## Требования

- Java 17+
- Maven
- Spring Boot


## Работа с API

#### Доступ к Swagger UI

Swagger UI доступен по адресу:
/api/v0/pool/swagger-ui/index.html

Для взаимодействия с API необходимо сначала зарегистрироваться и получить токен доступа.

#### Регистрация нового пользователя

Чтобы зарегистрировать нового пользователя, отправьте POST-запрос на адрес:
POST /api/v0/pool/auth/sign-up

```
Пример тела запроса для регистрации:
{
  "login": "jack123",
  "email": "jack@mail.com",
  "phone": "+7999 555 66 33",
  "name": "Jack",
  "password": "password"
}

```

#### Авторизация пользователя

Также токен доступа можно получить. если авторизоваться с данными пользователя, отправьте POST-запрос на адрес:
POST /api/v0/pool/auth/sign-in

```
Пример тела запроса для авторизации:
{
  "login": "jack123",
  "password": "password"
}
```

#### Получение токена

После успешной регистрации вы получите ответ с токеном:
```
{
  "token": "your_access_token"
}
```


## Работа с БД

### H2 Console

В проекте используется встроенная база данных H2, которая предоставляет удобный интерфейс для управления данными. Вы можете воспользоваться консолью H2 для выполнения SQL-запросов и просмотра содержимого базы данных.

#### Доступ к H2 Console

H2 Console доступна по адресу:
http://localhost:8080/api/v0/pool/h2-console/

Убедитесь, что вы указали правильные параметры подключения к базе данных:
- JDBC URL: jdbc:h2:mem:testdb
- User Name: sa
- Password: test

### Таблица `auth_data`
| Поле          | Тип данных   | Описание                           |
|---------------|--------------|------------------------------------|
| id            | BIGINT       | Уникальный идентификатор           |
| email         | VARCHAR(255) | Электронная почта                 |
| login         | VARCHAR(255) | Логин                              |
| name          | VARCHAR(255) | Имя                                |
| password      | VARCHAR(255) | Пароль                             |
| phone         | VARCHAR(255) | Номер телефона                     |
| role          | ENUM('ADMIN', 'USER') | Роль пользователя     |

### Таблица `orders`
| Поле          | Тип данных             | Описание                  |
|---------------|-------------------------|---------------------------|
| date          | TIMESTAMP(6)            | Дата заказа               |
| id            | BIGINT                  | Уникальный идентификатор  |
| user_id       | BIGINT                  | Идентификатор пользователя|

